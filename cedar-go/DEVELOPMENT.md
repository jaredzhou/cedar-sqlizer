# Common Workflows

## Updating the Corpus Tests

A periodic Github action checks to make sure that the local copy of the Cedar corpus test tarball matches the upstream version generated by the AWS team.

This action opens a Github Issue when it detects that a change has occurred ([example](https://github.com/cedar-policy/cedar-go/issues/52)) that should be resolved by updating the corpus test tarball in the cedar-go repository and ensuring that they still pass with the new version. The Cedar team does occasionally make breaking changes to the format of the tests, so bringing them up to date may be a non-trivial amount of work.

To update the test tarball, run the following command:

```bash
curl -L -o corpus-tests.tar.gz https://raw.githubusercontent.com/cedar-policy/cedar-integration-tests/main/corpus-tests.tar.gz
```

Then, run the corpus tests and fix any tests that may be broken:

```bash
go test ./corpus_test.go
```